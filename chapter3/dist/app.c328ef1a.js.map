{"version":3,"sources":["app.js"],"names":["ajax","XMLHttpRequest","content","document","createElement","container","getElementById","newsURL","contentURL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","push","i","id","title","comments_count","innerHTML","join","newsDetail","location","hash","substring","newsContents","replace","title_head","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,IAAI,GAAG,IAAIC,cAAJ,EAAb,EAAmC;;AACnC,IAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,IAAMC,SAAS,GAAGF,QAAQ,CAACG,cAAT,CAAwB,MAAxB,CAAlB;AACA,IAAMC,OAAO,GAAG,sCAAhB;AACA,IAAMC,UAAU,GAAG,wCAAnB;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,WAAW,EAAG;AADJ,CAAd;;AAIA,SAASC,OAAT,CAAiBC,GAAjB,EAAqB;AACjBZ,EAAAA,IAAI,CAACa,IAAL,CAAU,KAAV,EAAiBD,GAAjB,EAAqB,KAArB;AACAZ,EAAAA,IAAI,CAACc,IAAL;AACA,SAAOC,IAAI,CAACC,KAAL,CAAWhB,IAAI,CAACiB,QAAhB,CAAP;AACH;;AAEDjB,IAAI,CAACa,IAAL,CAAU,KAAV,EAAiBN,OAAjB,EAAyB,KAAzB;AACAP,IAAI,CAACc,IAAL;;AAEA,SAASI,QAAT,GAAoB;AAChB,MAAMA,QAAQ,GAAGP,OAAO,CAACJ,OAAD,CAAxB,CADgB,CACmB;;AACnC,MAAMY,QAAQ,GAAG,EAAjB;AAEAA,EAAAA,QAAQ,CAACC,IAAT,CAAc,MAAd;;AACJ,OAAI,IAAIC,CAAC,GAAG,CAACZ,KAAK,CAACC,WAAN,GAAmB,CAApB,IAAyB,EAArC,EAA0CW,CAAC,GAAGZ,KAAK,CAACC,WAAN,GAAkB,EAAhE,EAAqEW,CAAC,EAAtE,EAAyE;AAErEF,IAAAA,QAAQ,CAACC,IAAT,2CAEuBF,QAAQ,CAACG,CAAD,CAAR,CAAYC,EAFnC,8BAGUJ,QAAQ,CAACG,CAAD,CAAR,CAAYE,KAHtB,cAG+BL,QAAQ,CAACG,CAAD,CAAR,CAAYG,cAH3C;AAOH;;AACDL,EAAAA,QAAQ,CAACC,IAAT,CAAc,OAAd;AACAD,EAAAA,QAAQ,CAACC,IAAT,iDAE0BX,KAAK,CAACC,WAAN,GAAoB,CAApB,GAAuBD,KAAK,CAACC,WAAN,GAAoB,CAA3C,GAA+C,CAFzE,6EAG0BD,KAAK,CAACC,WAAN,GAAoB,CAH9C;AAMAL,EAAAA,SAAS,CAACoB,SAAV,GAAsBN,QAAQ,CAACO,IAAT,CAAc,EAAd,CAAtB;AACC;;AAED,SAASC,UAAT,GAAqB;AACjB,MAAML,EAAE,GAAGM,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwB,CAAxB,CAAX;AACA,MAAMC,YAAY,GAAGpB,OAAO,CAACH,UAAU,CAACwB,OAAX,CAAmB,KAAnB,EAAyBV,EAAzB,CAAD,CAA5B;AACA,MAAMW,UAAU,GAAG9B,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAnB;AAEAC,EAAAA,SAAS,CAACoB,SAAV,uBACMM,YAAY,CAACR,KADnB,yDAGuBd,KAAK,CAACC,WAH7B;AAMH;;AAED,SAASwB,MAAT,GAAiB;AACb,MAAMC,SAAS,GAAGP,QAAQ,CAACC,IAA3B;;AAEA,MAAGM,SAAS,KAAI,EAAhB,EAAmB;AAAE;AACjBjB,IAAAA,QAAQ;AACX,GAFD,MAEM,IAAGiB,SAAS,CAACC,OAAV,CAAkB,SAAlB,KAAgC,CAAnC,EAAqC;AACvC3B,IAAAA,KAAK,CAACC,WAAN,GAAoB2B,MAAM,CAACF,SAAS,CAACL,SAAV,CAAoB,CAApB,CAAD,CAA1B;AACAZ,IAAAA,QAAQ;AACX,GAHK,MAGA;AACFS,IAAAA,UAAU;AACb;AACJ;;AAEDW,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAqCL,MAArC;AAEAA,MAAM","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const ajax = new XMLHttpRequest(); //xmlhttprequest가 제공하는 도구를 ajax상수(const)에 담는다.\r\nconst content = document.createElement('div');\r\nconst container = document.getElementById(\"root\")\r\nconst newsURL = 'https://api.hnpwa.com/v0/news/1.json'\r\nconst contentURL = 'https://api.hnpwa.com/v0/item/@id.json'\r\nconst store = {\r\n    currentPage : 1,\r\n}\r\n\r\nfunction getData(url){\r\n    ajax.open('GET', url,false);\r\n    ajax.send();\r\n    return JSON.parse(ajax.response)\r\n}\r\n\r\najax.open('GET', newsURL,false);\r\najax.send();\r\n\r\nfunction newsFeed() {\r\n    const newsFeed = getData(newsURL); // json형식으로 변환\r\n    const newsList = [];\r\n\r\n    newsList.push('<ul>')\r\nfor(let i = (store.currentPage -1) * 10 ; i < store.currentPage*10 ; i++){\r\n\r\n    newsList.push(\r\n    `<li>\r\n        <a href =\"#/show/${newsFeed[i].id}\">\r\n            ${newsFeed[i].title}(${newsFeed[i].comments_count}) \r\n        </a>\r\n    </li>\r\n    `)\r\n}\r\nnewsList.push(\"</ul>\")\r\nnewsList.push(`\r\n    <div>\r\n        <a href=\"#/page/${store.currentPage > 1? store.currentPage - 1 : 1}\">이전페이지</a>\r\n        <a href=\"#/page/${store.currentPage + 1}\">다음페이지</a>\r\n    </div>\r\n`)\r\ncontainer.innerHTML = newsList.join(\"\")\r\n}\r\n\r\nfunction newsDetail(){\r\n    const id = location.hash.substring(7);\r\n    const newsContents = getData(contentURL.replace('@id',id));\r\n    const title_head = document.createElement(\"h1\")\r\n\r\n    container.innerHTML = `\r\n    <h1>${newsContents.title}</h1>\r\n    <div>\r\n        <a href =\"#/page/${store.currentPage}\">목록으로</a>\r\n    </div>\r\n    `\r\n}\r\n\r\nfunction router(){\r\n    const routePath = location.hash;\r\n\r\n    if(routePath ===\"\"){ // #위치에 이것하나만 있을때 빈값으로 인식한다.\r\n        newsFeed()\r\n    }else if(routePath.indexOf('#/page/') >= 0){\r\n        store.currentPage = Number(routePath.substring(7))\r\n        newsFeed()\r\n    }else {\r\n        newsDetail()\r\n    }\r\n}\r\n\r\nwindow.addEventListener(\"hashchange\",router)\r\n\r\nrouter()"]}